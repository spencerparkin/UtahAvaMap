<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Utah Ava Map</title>
        <script src="https://code.jquery.com/jquery.js"></script>
        <!--<script src="https://cesiumjs.org/releases/1.51/Build/Cesium/Cesium.js"></script>-->
        <script src="Cesium/Cesium.js"></script>
        <link href="https://cesiumjs.org/releases/1.51/Build/Cesium/Widgets/widgets.css" rel="stylesheet">
        <link rel="stylesheet" href="utah_ava_map.css">
        <script src="utah_ava_map.js"></script>
    </head>
    <body>
        <div id="mainContainer">
            <button type="button" id="show_controls_button" onclick="show_controls_button_clicked()">Show Controls</button>
            <div id="cesiumControls">
                <form>
                    <span class="first_column"><button type="button" onclick="retract_controls_button_clicked()">Retract</button></span>
                    <span class="second_column"><button type="button" onclick="help_button_clicked()">Help</button></span>

                    <span class="first_column"><label for="image_layer_dropdown">Image Layer:</label></span>
                    <span class="second_column"><select id="image_layer_dropdown" data-bind="options: image_layer_list, value: image_layer"></select></span>
                    
                    <span class="first_column"><label for="slope_prime_radius_slider">Slope Radius:</label></span>
                    <span class="second_column"><input id="slope_prime_radius_slider" type="range" min="0.0" max="30.0" step="1.0" data-bind="value: slope_prime_radius"><span data-bind="text: slope_prime_radius"></span> degrees</span>
                    
                    <span class="first_column"><label for="slope_prime_alpha_slider">Slope Alpha:</label></span>
                    <span class="second_column"><input id="slope_prime_alpha_slider" type="range" min="0.0" max="1.0" step="0.05" data-bind="value: slope_prime_alpha"><span data-bind="text: slope_prime_alpha"></span></span>
            
                    <span class="first_column"><label for="region_link">Region:</label></span>
                    <span class="second_column"><a id="region_link" target="_blank" data-bind="attr: {href: ava_rose_forecast_url}, text: ava_region"></a></span>
                    
                    <span class="first_column"><label for="height_readout">Height:</label></span>
                    <span class="second_column"><span id="height_readout" data-bind="text: cursor_height"></span></span>
                    
                    <span class="first_column"><label for="location_readout">Location:</label></span>
                    <span class="second_column"><span id="location_readout" data-bind="text: cursor_location"></span></span>
                    
                    <span class="first_column"><label for="slope_angle_readout">Slope Angle:</label></span>
                    <span class="second_column"><span id="slope_angle_readout" data-bind="text: cursor_slope_angle"></span></span>
                    
                    <span class="first_column"><label for="slope_aspect_readout">Aspect:</label></span>
                    <span class="second_column"><span id="slope_aspect_readout" data-bind="text: cursor_aspect_angle"></span></span>
                    
                    <span class="first_column"><label for="ava_rose_image">Ava-Rose:</label></span>
                    <span class="second_column"><img id="ava_rose_image" width="200px" height="200px" data-bind="attr: {src: ava_rose_image_url}"/></span>
                </form>
            </div>
            <div id="cesiumContainer"></div>
            <div id="mapUsageBox">
                <button type="button" onclick="got_it_button_clicked()">Got it!</button>
                <h3>What kind of map is this?</h3>
                <p>
                    For the nearest region being viewed, this map overlays the current ava-rose colors on the terrain by aspect, elevation, and slope angle.  It is critical that the user understand
                    that there is no scientific evidence whatsoever to support the danger rating color that is painted on any location of the map.  The ava-rose itself is an approximation and a generalization,
                    and therefore, so is the coloring of the map.  The colors of the map are an educated guess.  This map might be useful for at-home trip planning, but is not necessarily useful in the field.
                    This map offers a way to visualize the ava-rose information in context.
                </p>
                <h3>How do I use the map?</h3>
                <p>
                    Zoom, pan and tilt as prescribed by the question mark icon, once clicked upon, in the upper-right hand corner of the screen.  In the upper-left hand corner you will find
                    a few controls and read-outs.  The <b><i>image layer</i></b> may be used to show satellite imagery or a topological map with contour lines and names of places and terrain features.
                    The <b><i>slope radius</i></b> controls how much terrain is shaded about slopes of exactly 38 degrees.  For example, if the <b><i>slope radius</i></b> is 10, then slopes between 28 and 48
                    degrees are shaded according to the ava-rose by aspect and elevation.  The <b><i>slope alpha</i></b> parameter controls the transparency of all ava-rose shading made on the terrain.
                    The <b><i>region</i></b> field shows the nearest region being viewed and is a hyper-link to the current forecast for that region.
                    The <b><i>height</i></b>, <b><i>location</i></b>, <b><i>slope angle</i></b> and <b><i>aspect</i></b> read-outs give their respective bits of information for the location directly under the mouse cursor.
                    The <b><i>ava-rose</i></b> field shows the current ava-rose image for the nearest region being viewed on the map.
                </p>
                <h3>Disclaimer</h3>
                <p>
                    Use this information at your own risk.  No guarantee of usefulness for any particular purpose is given.  The programmer, as well intentioned as he may have been, is not liable for negative
                    consequences, if any, of decisions made based upon the information provided here.  This website is in no way affiliated with or endorsed by the Utah Avalanche Center.
                </p>
                <button type="button" onclick="got_it_button_clicked()">Got it!</button>
            </div>
        </div>
    </body>
</html>